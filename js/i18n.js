/* ============================================
   Internationalization (i18n) - Language Switching
   English Portal - Blackgold High Institute
   ============================================ */

const translations = {
  ar: {
    // Navigation
    "nav.home": "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    "nav.reports": "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©",
    "nav.blog": "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
    "nav.resources": "Ø§Ù„Ù…ÙˆØ§Ø±Ø¯",
    "nav.about": "Ø­ÙˆÙ„",

    // Section titles
    "section.main": "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    "section.content": "Ø§Ù„Ù…Ø­ØªÙˆÙ‰",
    "section.latest": "Ø¢Ø®Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª",
    "section.reports": "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©",
    "section.articles": "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙˆÙ†Ø©",

    // Actions
    "action.viewAll": "Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„",
    "action.readMore": "Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯",
    "action.back": "Ø§Ù„Ø¹ÙˆØ¯Ø©",
    "action.print": "Ø·Ø¨Ø§Ø¹Ø©",
    "action.share": "Ù…Ø´Ø§Ø±ÙƒØ©",

    // Empty states
    "empty.reports": "Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚Ø§Ø±ÙŠØ± Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†",
    "empty.articles": "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†",
    "empty.description": "Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹",

    // Page titles
    "page.reports.title": "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©",
    "page.reports.description": "Ø£Ø±Ø´ÙŠÙ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ù„Ù‚Ø³Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
    "page.blog.title": "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙˆÙ†Ø©",
    "page.blog.description": "Ù…Ù‚Ø§Ù„Ø§Øª ÙˆÙ…Ø´Ø§Ø±ÙƒØ§Øª Ø­ÙˆÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„Ø¥Ø´Ø±Ø§Ù",

    // Filters
    "filter.all": "Ø§Ù„ÙƒÙ„",
    "filter.recent": "Ø§Ù„Ø£Ø­Ø¯Ø«",
    "filter.oldest": "Ø§Ù„Ø£Ù‚Ø¯Ù…",

    // Misc
    "brand.name": "Ù‚Ø³Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
    "brand.subtitle": "Ù…Ø¹Ù‡Ø¯ Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø£Ø³ÙˆØ¯ Ø§Ù„Ø¹Ø§Ù„ÙŠ",
    "footer.rights": "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©",

    // Meeting 01 Report
    "meeting01.category": "Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø£ÙˆÙ„",
    "meeting01.title": "Ù…Ø­Ø¶Ø± Ø§Ø¬ØªÙ…Ø§Ø¹ Ù‚Ø³Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
    "meeting01.date": "12 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025",
    "meeting01.author": "Ù‚Ø³Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",

    "meeting01.section1.title": "ðŸ“š Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",
    "meeting01.section1.content": "ØªÙ… Ø¥Ø¨Ù„Ø§Øº Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¨Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ØªÙŠ ØªØ´Ø¬Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«ÙŠØ© ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ. ÙŠÙ‡Ø¯Ù Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ Ø¥Ù„Ù‰ ØªØ¹Ø²ÙŠØ² Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ù„Ø¯Ù‰ Ø§Ù„Ø·Ù„Ø§Ø¨ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø­ÙˆØ§Ø± ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ÙÙŠ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ.",

    "meeting01.section2.title": "ðŸ“ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©",
    "meeting01.section2.content": "ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ø¹Ù„Ù… ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ØªÙ‚Ø¯ÙŠÙ… ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ø¹Ù† Ø¹Ù…Ù„Ù‡ ÙˆØªÙ‚Ø¯Ù… Ø·Ù„Ø§Ø¨Ù‡. ÙŠØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙÙŠ Ù…Ø¬Ù„Ø¯ ÙˆØ§Ø­Ø¯ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡ Ø¹Ø¨Ø± Google Drive.",

    "meeting01.section3.title": "ðŸŽ¯ Ù…ÙˆØ§Ø¯ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ",
    "meeting01.section3.intro": "Ø·ÙÙ„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø£ÙŠ Ù†Ù‚Øµ ÙÙŠ Ù…ÙˆØ§Ø¯ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ù…Ø«Ù„:",
    "meeting01.section3.item1": "Ø§Ù„Ø³Ø¨ÙˆØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
    "meeting01.section3.item2": "Ø§Ù„Ø´Ø§Ø´Ø§Øª",
    "meeting01.section3.item3": "Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª",
    "meeting01.section3.item4": "Ø§Ù„Ø£Ù‚Ù„Ø§Ù…",
    "meeting01.section3.item5": "ÙˆØºÙŠØ±Ù‡Ø§ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª...",

    "meeting01.section4.title": "ðŸ’¬ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†",
    "meeting01.section4.content": "ØªÙ… ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ø¢Ø±Ø§Ø¦Ù‡Ù… Ø­ÙˆÙ„ Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªÙˆÙ‚Ø¹Ø§ØªÙ‡Ù… Ù„ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø·Ù„Ø§Ø¨Ù‡Ù… Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯.",

    "meeting01.questions.title": "â“ Ø£Ø³Ø¦Ù„Ø© ØªØ­ØªØ§Ø¬ Ø¥Ø¬Ø§Ø¨Ø©",
    "meeting01.questions.q1": "ÙÙŠ Ø§Ù„Ø£Ø´Ù‡Ø± Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù‡Ù„ ÙŠØ¬Ø¨ Ø£Ù† Ù†ÙØ¯Ø±ÙÙ‘Ø³ Ù†ÙØ³ Ø§Ù„Ù…Ù†Ù‡Ø¬ØŒ Ø£Ù… ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù†Ø§ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„ØªØ­Ø¯Ø« Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø­Ø§Ø¯Ø«Ø§Øª ÙŠØ¬Ø¯Ù‡Ø§ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø·Ù„Ø§Ø¨Ù‡ØŸ"
  },

  en: {
    // Navigation
    "nav.home": "Home",
    "nav.reports": "Weekly Reports",
    "nav.blog": "Articles",
    "nav.resources": "Resources",
    "nav.about": "About",

    // Section titles
    "section.main": "Main Menu",
    "section.content": "Content",
    "section.latest": "Latest Additions",
    "section.reports": "Weekly Reports",
    "section.articles": "Articles & Blog",

    // Actions
    "action.viewAll": "View All",
    "action.readMore": "Read More",
    "action.back": "Back",
    "action.print": "Print",
    "action.share": "Share",

    // Empty states
    "empty.reports": "No reports yet",
    "empty.articles": "No articles yet",
    "empty.description": "New content will be added soon",

    // Page titles
    "page.reports.title": "Weekly Reports",
    "page.reports.description": "Archive of weekly reports for the English Department",
    "page.blog.title": "Articles & Blog",
    "page.blog.description": "Articles and posts about teaching and supervision",

    // Filters
    "filter.all": "All",
    "filter.recent": "Recent",
    "filter.oldest": "Oldest",

    // Misc
    "brand.name": "English Department",
    "brand.subtitle": "Blackgold High Institute",
    "footer.rights": "All rights reserved",

    // Meeting 01 Report
    "meeting01.category": "Meeting 1",
    "meeting01.title": "English Department Meeting Minutes",
    "meeting01.date": "December 12, 2025",
    "meeting01.author": "English Department",

    "meeting01.section1.title": "ðŸ“š New Teaching Methodology",
    "meeting01.section1.content": "Teachers were informed about the new teaching method which encourages conversational English and interactive teaching. This approach aims to enhance students' communication skills through dialogue and direct interaction in the classroom.",

    "meeting01.section2.title": "ðŸ“ Weekly Reports",
    "meeting01.section2.content": "Each teacher in the English department should submit a weekly report about their work and students' progress. All reports are saved in one folder that can be accessed through Google Drive.",

    "meeting01.section3.title": "ðŸŽ¯ Classroom Materials",
    "meeting01.section3.intro": "Teachers were asked to report any shortage of classroom materials such as:",
    "meeting01.section3.item1": "Whiteboards",
    "meeting01.section3.item2": "Monitors",
    "meeting01.section3.item3": "Pinboards",
    "meeting01.section3.item4": "Markers",
    "meeting01.section3.item5": "And other supplies...",

    "meeting01.section4.title": "ðŸ’¬ Teacher Participation",
    "meeting01.section4.content": "Teachers were encouraged to participate with their opinions about the new teaching approach and how they expect their students to respond.",

    "meeting01.questions.title": "â“ Questions That Need Answers",
    "meeting01.questions.q1": "In the first three months: Should we teach the same curriculum, or should each one of us teach children to talk through conversations he finds suitable for his students' needs?"
  }
};

// Current language (default: Arabic)
let currentLang = localStorage.getItem('portal-lang') || 'ar';

/**
 * Get translated text for a key
 * @param {string} key - Translation key
 * @returns {string} - Translated text
 */
function t(key) {
  return translations[currentLang]?.[key] || translations['en']?.[key] || key;
}

/**
 * Set the current language and update the page
 * @param {string} lang - Language code ('ar' or 'en')
 */
function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('portal-lang', lang);

  // Update document direction
  document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
  document.documentElement.lang = lang;

  // Update all translatable elements
  updateTranslations();

  // Update language toggle buttons
  updateLanguageToggle();
}

/**
 * Update all elements with data-i18n attribute
 */
function updateTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    element.textContent = t(key);
  });

  // Update placeholders
  document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
    const key = element.getAttribute('data-i18n-placeholder');
    element.placeholder = t(key);
  });

  // Update title attributes
  document.querySelectorAll('[data-i18n-title]').forEach(element => {
    const key = element.getAttribute('data-i18n-title');
    element.title = t(key);
  });
}

/**
 * Update language toggle button states
 */
function updateLanguageToggle() {
  document.querySelectorAll('.lang-btn').forEach(btn => {
    const btnLang = btn.getAttribute('data-lang');
    btn.classList.toggle('active', btnLang === currentLang);
  });
}

/**
 * Toggle between Arabic and English
 */
function toggleLanguage() {
  setLanguage(currentLang === 'ar' ? 'en' : 'ar');
}

/**
 * Initialize i18n on page load
 */
function initI18n() {
  // Set initial language
  setLanguage(currentLang);

  // Add click handlers to language buttons
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const lang = btn.getAttribute('data-lang');
      setLanguage(lang);
    });
  });
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', initI18n);
